{"debug_id":"91fef742-f1db-503e-a981-0ab14d82aa8c","file":"bot.controller.js","mappings":";AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAEhD,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,MAAc,EAAE,EAAE,CAAC,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1E,IAAI;QACA,MAAM,IAAI,GAAG;YACT,MAAM,EAAE,MAAM,CAAC,MAAM,IAAI,CAAC;YAC1B,YAAY,EAAE,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;YACzD,OAAO,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI;YACvB,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI;YAChC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;SACpE,CAAC;QAEF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAClB;IAAC,OAAO,GAAG,EAAE;QACV,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;QACnE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;KACjD;AACL,CAAC,CAAC","names":[],"sourceRoot":"/","sources":["src/api/controllers/bot.controller.ts"],"sourcesContent":["import { KATClient as Client } from '@structures/Client';\nimport { Request, Response } from 'express';\nimport { formatBytes } from '@utils/helpers.js';\n\nexport const fetchStats = (client: Client) => (req: Request, res: Response) => {\n    try {\n        const data = {\n            uptime: client.uptime ?? 0,\n            memory_usage: formatBytes(process.memoryUsage().heapUsed),\n            ws_ping: client.ws.ping,\n            guilds: client.guilds.cache.size,\n            users: client.guilds.cache.reduce((a, g) => a + g.memberCount, 0),\n        };\n\n        res.json(data);\n    } catch (err) {\n        client.logger.error(err, 'Error Getting Stats', 'User Controller');\n        res.status(500).send('Internal Server Error');\n    }\n};\n"],"version":3}