{"debug_id":"2426ce2a-4eb8-5fa4-b96f-5e14c1cfcfd7","file":"GuildDelete.js","mappings":";AAAA,OAAO,EAAE,KAAK,EAAkC,MAAM,sBAAsB,CAAC;AAC7E,OAAO,EAAE,MAAM,EAAS,MAAM,YAAY,CAAC;AAE3C,MAAM,OAAO,WAAY,SAAQ,KAAK;IAClC,YAAY,MAAc,EAAE,SAAoB;QAC5C,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,KAAY;QACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;QAE7E,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC;YACtC,KAAK,EAAE;gBACH,OAAO,EAAE,KAAK,CAAC,EAAE;aACpB;SACJ,CAAC,CAAC;QAEH,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC;YACtC,KAAK,EAAE;gBACH,OAAO,EAAE,KAAK,CAAC,EAAE;aACpB;SACJ,CAAC,CAAC;IACP,CAAC;CACJ","names":[],"sourceRoot":"/","sources":["src/events/client/GuildDelete.ts"],"sourcesContent":["import { Event, KATClient as Client, Commander } from '@structures/index.js';\nimport { Events, Guild } from 'discord.js';\n\nexport class GuildDelete extends Event {\n    constructor(client: Client, commander: Commander) {\n        super(client, commander, Events.GuildDelete);\n    }\n\n    async execute(guild: Guild) {\n        this.client.logger.info(`Left Guild ${guild.name} (${guild.id})`, 'DISCORD');\n\n        await this.client.prisma.guild.deleteMany({\n            where: {\n                guildId: guild.id,\n            },\n        });\n\n        await this.client.prisma.queue.deleteMany({\n            where: {\n                guildId: guild.id,\n            },\n        });\n    }\n}\n"],"version":3}