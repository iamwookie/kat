{"debug_id":"4ec6a6ad-113e-57af-8cca-a98d7ca27501","file":"PlayerEnd.js","mappings":";AAAA,OAAO,EAAE,KAAK,EAAqE,MAAM,sBAAsB,CAAC;AAChH,OAAO,EAAE,WAAW,EAAE,MAAM,wBAAwB,CAAC;AACrD,OAAO,EAAE,YAAY,EAAE,MAAM,iCAAiC,CAAC;AAE/D,MAAM,OAAO,SAAU,SAAQ,KAAK;IAChC,YAAY,MAAc,EAAE,SAAoB;QAC5C,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;IAC1C,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,YAA+B;QACzC,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS;YAAE,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,YAAY,CAAC,MAAM;YAAE,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;QACrD,YAAY,CAAC,OAAO,EAAE,CAAC;QAEvB,UAAU,CAAC,KAAK,IAAI,EAAE;YAClB,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,EAAE;gBAC/E,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;gBACpH,YAAY,CAAC,OAAO,EAAE,CAAC;aAC1B;QACL,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;IAClD,CAAC;CACJ","names":[],"sourceRoot":"/","sources":["src/events/music/player/PlayerEnd.ts"],"sourcesContent":["import { Event, KATClient as Client, Commander, Subscription as MusicSubscription } from '@structures/index.js';\nimport { ActionEmbed } from '@utils/embeds/index.js';\nimport { MusicPrompts } from '@structures/interfaces/Enums.js';\n\nexport class PlayerEnd extends Event {\n    constructor(client: Client, commander: Commander) {\n        super(client, commander, 'playerEnd');\n    }\n\n    async execute(subscription: MusicSubscription) {\n        if (subscription.message?.deletable) subscription.message.delete().catch(() => {});\n        if (!subscription.looped) subscription.active = null;\n        subscription.process();\n\n        setTimeout(async () => {\n            if (!subscription.destroyed && !subscription.active && !subscription.queue.length) {\n                subscription.textChannel.send({ embeds: [new ActionEmbed('warn').setText(MusicPrompts.Inactive)] }).catch(() => {});\n                subscription.destroy();\n            }\n        }, this.client.config.music.inactiveDuration);\n    }\n}\n"],"version":3}