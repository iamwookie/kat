{"debug_id":"69ef9801-9fe6-5503-b001-9acdcf3b7561","file":"TrackRemove.js","mappings":";AAAA,OAAO,EAAE,KAAK,EAAkC,MAAM,EAAgB,MAAM,sBAAsB,CAAC;AACnG,OAAO,EAAE,MAAM,IAAI,aAAa,EAAE,MAAM,YAAY,CAAC;AAErD,MAAM,OAAO,WAAY,SAAQ,KAAK;IAClC,YAAY,MAAc,EAAE,SAAoB;QAC5C,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,YAA0B;QACpC,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAE/D,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE;gBACH,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;aACjC;YACD,MAAM,EAAE;gBACJ,QAAQ,EAAE;oBACN,SAAS,EAAE,CAAC;iBACf;aACJ;YACD,MAAM,EAAE;gBACJ,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;gBAC9B,OAAO,EAAE,YAAY,CAAC,YAAY,CAAC,EAAE;gBACrC,MAAM,EAAE,YAAY,CAAC,WAAW,CAAC,EAAE;aACtC;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,aAAa,CAAC,KAAK,EACnB,+CAA+C,YAAY,CAAC,KAAK,CAAC,IAAI,KAAK,YAAY,CAAC,KAAK,CAAC,EAAE,SAAS,YAAY,CAAC,QAAQ,EAAE,CACnI,CAAC;IACN,CAAC;CACJ","names":[],"sourceRoot":"/","sources":["src/events/music/track/TrackRemove.ts"],"sourcesContent":["import { Event, KATClient as Client, Commander, Events, Subscription } from '@structures/index.js';\nimport { Events as DiscordEvents } from 'discord.js';\n\nexport class TrackRemove extends Event {\n    constructor(client: Client, commander: Commander) {\n        super(client, commander, Events.TrackRemove);\n    }\n\n    async execute(subscription: Subscription) {\n        await this.client.cache.queue.increment(subscription.guild.id);\n\n        await this.client.prisma.queue.upsert({\n            where: {\n                guildId: subscription.guild.id,\n            },\n            update: {\n                position: {\n                    increment: 1,\n                },\n            },\n            create: {\n                guildId: subscription.guild.id,\n                voiceId: subscription.voiceChannel.id,\n                textId: subscription.textChannel.id,\n            },\n        });\n\n        this.client.emit(\n            DiscordEvents.Debug,\n            `Music (DATABASE) >> Updated Queue Position: ${subscription.guild.name} (${subscription.guild.id}) To: ${subscription.position}`\n        );\n    }\n}\n"],"version":3}